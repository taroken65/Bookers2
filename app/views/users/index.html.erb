<% if @book.errors.any? %>
  <div id="error_explanation" class="alert alert-danger">
    <ul>
      <% @book.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="container">
 <div class="row">
 <div class="col-md-3">
  <h2> User info</h2>
  <%= attachment_image_tag @user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg" %>
  <table class="table">
  <tr><th>name</th>
  <td><%= @user.name %></td></tr>
  <tr><th>introduction</th>
  <td><%= @user.introduction %></td></tr>
  </table>
  <%= link_to  edit_user_path(current_user.id), method: :get do %>
  <i class="fas fa-user-cog btn btn-light border border-secondary mt-3" style="width: 100%" ></i>
  <% end %>
 
 <h2>New book</h2>
  <%= form_with model: @book, local:true do |f| %>
  <p>Title</p>
  <%= f.text_field :title %>
  <p>Opinion</p>
  <%= f.text_field :opinion %>
   <%= f.submit 'Create Book', class: 'btn btn-success mt-3' %>
  <% end %>
  </div>

<div class="col-md-8 offset-md-1">
  <h2>Users</h2>
  <table class="table">
   <tr>
   <th>image</th>
   <th>name</th>
   <th></th>
   </tr>
   <% @users.each do |user| %>
   <tr>
  <td><%= attachment_image_tag user, :profile_image, :fill, 40, 40, fallback: "no_image.jpg" , size:'40x40' %></td>
  <td><%= user.name %></td>
  <td><%= link_to "Show", user_path(user.id) %></td>
  </tr>
  <% end %>
  </table>
  </div>
 </div>
</div>